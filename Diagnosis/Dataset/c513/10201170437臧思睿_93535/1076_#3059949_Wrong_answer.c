#include <stdio.h>
#include <string.h>

int main()
{
    int T,i,flag;
    scanf("%d",&T);
    char s[105],stk[105];
    while(T--)
    {
        memset(s,0,sizeof(char));
        memset(stk,0,sizeof(char));
        flag=0;
        scanf("%s",s);
        for(i=0;i<strlen(s);i++)
        {
            if(s[i]=='(')
            {
                //printf("%s\n",stk);
                if(stk[strlen(stk)-1]=='['||strlen(stk)==0)
                {
                    stk[strlen(stk)]='(';
                    stk[strlen(stk)]='\0';
                }
                else{flag=1;break;}
            }
            if(s[i]=='[')
            {
                //printf("%s\n",stk);
                if(stk[strlen(stk)-1]=='{'||strlen(stk)==0)
                {
                    stk[strlen(stk)]='[';
                    stk[strlen(stk)]='\0';
                }
                else{flag=1;break;}
            }
            if(s[i]=='{')
            {
                //printf("%s\n",stk);
                if(stk[strlen(stk)-1]=='('||strlen(stk)==0)
                {
                    stk[strlen(stk)]='{';
                    stk[strlen(stk)]='\0';
                }
                else{flag=1;break;}
            }
            if(s[i]==')')
            {
                //printf("%s\n",stk);
                if(stk[strlen(stk)-1]=='(')
                {
                    stk[strlen(stk)-1]='\0';
                }
                else{flag=1;break;}
            }
            if(s[i]==']')
            {
                //printf("%s\n",stk);
                if(stk[strlen(stk)-1]=='[')
                {
                    stk[strlen(stk)-1]='\0';
                }
                else{flag=1;break;}
            }
            if(s[i]=='}')
            {
                //printf("%s\n",stk);
                if(stk[strlen(stk)-1]=='{')
                {
                    stk[strlen(stk)-1]='\0';
                }
                else{flag=1;break;}
            }
        }
        if(flag==0 && strlen(stk)==0)
        {
            printf("%c%c%c\n",'Y','e','s');
        }
        else{printf("%c%c\n",'N','o');}
    }
}